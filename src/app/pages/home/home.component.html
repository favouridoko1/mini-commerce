<main class="py-8 px-4 sm:px-6 lg:px-8">
  <header class="mb-6">
    <h1 class="text-2xl font-bold text-gray-800">Featured Products</h1>
  </header>

  <!-- Loading Spinner -->
  <section *ngIf="loading" aria-label="Loading products" class="flex justify-center items-center py-16">
    <div class="animate-spin rounded-full h-10 w-10 border-t-4 border-orange-500 border-opacity-50"></div>
  </section>

  <!-- No Results Message -->
  <section *ngIf="!loading && noResults" aria-label="No products found" class="text-center text-gray-600">
    <p class="text-lg">No products found.</p>
  </section>

  <!-- Product Grid -->
  <section
    *ngIf="!loading && !noResults"
    aria-label="Product list"
    class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"
  >
    <article
      *ngFor="let product of filteredProducts"
      class="bg-white shadow rounded-lg p-4 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 ease-in-out"
      [ngClass]="{ 'ring-2 ring-green-200': product.added }"
    >
      <figure>
        <img
          [src]="product.image"
          [alt]="product.name"
          class="w-full h-48 object-cover rounded-md mb-3"
        />
        <figcaption class="sr-only">{{ product.name }}</figcaption>
      </figure>

      <header>
        <h2 class="text-lg font-semibold text-gray-900">{{ product.name }}</h2>
      </header>

      <p class="text-sm text-gray-600 truncate">{{ product.description }}</p>

      <footer class="flex items-center justify-between mt-3">
        <span class="text-orange-500 font-bold">â‚¦{{ product.price }}</span>
        <button
          (click)="addToCart(product)"
          [disabled]="product.added"
          class="text-sm px-3 py-1 rounded transition cursor-pointer duration-300 ease-in-out"
          [ngClass]="
            product.added
              ? 'bg-green-500 hover:bg-green-600 text-white'
              : 'bg-orange-500 hover:bg-orange-600 text-white'
          "
        >
          <span *ngIf="!product.added">Add to Cart</span>
          <span *ngIf="product.added" class="flex items-center gap-1">
            <i class="fas fa-check-circle animate-bounce"></i> Added Successfully
          </span>
        </button>
      </footer>
    </article>
  </section>
</main>
